{"objects":[{"jobObject":{"JobType":".OrchestrationJob","id":4677,"revision":47,"created":1639410488691,"timestamp":1639410488691,"components":{"4682":{"id":4682,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-368,"y":48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[5395,5941,5989],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"4687":{"id":4687,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":144,"y":207,"width":32,"height":32,"inputConnectorIDs":[6042],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Master data"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"INSERT INTO `${examples_dataset}`.`norm_fan_status`\nVALUES (-1, 'Unknown'), (1001, 'normal'), (1002, 'malfunctioning'), (1003, 'unpowered')"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"5394":{"id":5394,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-16,"y":-112,"width":32,"height":32,"inputConnectorIDs":[5395],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_equipment"}}}},"visible":true},"2":{"slot":2,"name":"Project","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"3":{"slot":3,"name":"Dataset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_dataset}"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_equipment"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_id"},"2":{"slot":2,"type":"STRING","value":"String"},"3":{"slot":3,"type":"STRING","value":"REQUIRED"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"String"},"3":{"slot":3,"type":"STRING","value":"REQUIRED"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status_code"},"2":{"slot":2,"type":"STRING","value":"Integer"},"3":{"slot":3,"type":"STRING","value":"REQUIRED"}}}},"visible":true},"6":{"slot":6,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create if not exists"}}}},"visible":true},"7":{"slot":7,"name":"Partitioning","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"8":{"slot":8,"name":"KMS Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"9":{"slot":9,"name":"Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"10":{"slot":10,"name":"Key Ring","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"11":{"slot":11,"name":"Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"12":{"slot":12,"name":"Partitioning Field","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"13":{"slot":13,"name":"Partition Expiration Time","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"BIGINT","value":""}}}},"visible":false},"14":{"slot":14,"name":"Cluster Columns","elements":{},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"5930":{"id":5930,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-16,"y":48,"width":32,"height":32,"inputConnectorIDs":[5941],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_bubble_event"}}}},"visible":true},"2":{"slot":2,"name":"Project","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"3":{"slot":3,"name":"Dataset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_dataset}"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_bubble_event"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"id"},"2":{"slot":2,"type":"STRING","value":"Integer"},"3":{"slot":3,"type":"STRING","value":"REQUIRED"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_id"},"2":{"slot":2,"type":"STRING","value":"String"},"3":{"slot":3,"type":"STRING","value":"REQUIRED"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"ts"},"2":{"slot":2,"type":"STRING","value":"Timestamp"},"3":{"slot":3,"type":"STRING","value":"REQUIRED"}}}},"visible":true},"6":{"slot":6,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create if not exists"}}}},"visible":true},"7":{"slot":7,"name":"Partitioning","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"8":{"slot":8,"name":"KMS Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"9":{"slot":9,"name":"Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"10":{"slot":10,"name":"Key Ring","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"11":{"slot":11,"name":"Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"12":{"slot":12,"name":"Partitioning Field","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"13":{"slot":13,"name":"Partition Expiration Time","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"BIGINT","value":""}}}},"visible":false},"14":{"slot":14,"name":"Cluster Columns","elements":{},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"5982":{"id":5982,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-16,"y":208,"width":32,"height":32,"inputConnectorIDs":[5989],"outputSuccessConnectorIDs":[6042],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_fan_status"}}}},"visible":true},"2":{"slot":2,"name":"Project","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"3":{"slot":3,"name":"Dataset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_dataset}"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_fan_status"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status_code"},"2":{"slot":2,"type":"STRING","value":"Integer"},"3":{"slot":3,"type":"STRING","value":"REQUIRED"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"String"},"3":{"slot":3,"type":"STRING","value":"REQUIRED"}}}},"visible":true},"6":{"slot":6,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"7":{"slot":7,"name":"Partitioning","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":true},"8":{"slot":8,"name":"KMS Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"9":{"slot":9,"name":"Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"10":{"slot":10,"name":"Key Ring","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"11":{"slot":11,"name":"Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"12":{"slot":12,"name":"Partitioning Field","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"13":{"slot":13,"name":"Partition Expiration Time","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"BIGINT","value":""}}}},"visible":false},"14":{"slot":14,"name":"Cluster Columns","elements":{},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"6042":{"id":6042,"sourceID":5982,"targetID":4687}},"failureConnectors":{},"unconditionalConnectors":{"5395":{"id":5395,"sourceID":4682,"targetID":5394},"5941":{"id":5941,"sourceID":4682,"targetID":5930},"5989":{"id":5989,"sourceID":4682,"targetID":5982}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":true,"undoCommand":"Set Parameter","undoCreated":1639410480649,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"4678":{"id":4678,"x":-112,"y":-17,"width":205,"height":114,"text":"Create the **norm_bubble_event** table","colour":"00ce4f"},"4679":{"id":4679,"x":-110,"y":138,"width":381,"height":129,"text":"Create **norm_fan_status**.\nIt contains ``fixed`` master data, so it is fine to recreate every time","colour":"00ce4f"},"4680":{"id":4680,"x":-110,"y":-166,"width":195,"height":107,"text":"Create the **norm_equipment** table","colour":"00ce4f"},"4681":{"id":4681,"x":-614,"y":127,"width":303,"height":163,"text":"If you look at the data in the raw, staging or ODS tables (raw_iot_event, stg_iot_event or ods_iot_event) you will see a lot of duplicated values.\n\nThese three 3rd Normal Form tables contain the same data but they are **subject oriented**, which makes it more efficient and less vulnerable to problems.\n\nThese tables should not often get dropped and recreated, so the option here is usually \"Create if not exists\"","colour":"00ce4f"}},"variables":{},"grids":{}},"info":{"id":4677,"name":"example datamodel setup 3NF","type":"ORCHESTRATION","tag":"63de7ebc-3367-4f8c-bf81-b7522fa0dc75"},"path":["matillion-examples","datamodel","04 3NF"]}],"version":"1.48.7","environment":"bigquery"}