{"objects":[{"jobObject":{"JobType":".TransformationJob","id":6558,"revision":2,"created":1645537707447,"timestamp":1645537707447,"components":{"6564":{"id":6564,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":224,"y":352,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[6576,6581],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ods_iot_event"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ods_iot_event"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ts"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"equipment"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"temperature"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_schema}"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"},"6565":{"id":6565,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":729,"y":164,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[6577],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_fan_status"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_fan_status"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status_code"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"},"6566":{"id":6566,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":-1848704949,"x":377,"y":436,"width":32,"height":32,"inputConnectorIDs":[6581],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_bubble_event"}}}},"visible":true},"200":{"slot":200,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_bubble_event"}}}},"visible":true},"201":{"slot":201,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_schema}"}}}},"visible":true},"202":{"slot":202,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"203":{"slot":203,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"204":{"slot":204,"name":"Target Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"target"}}}},"visible":true},"205":{"slot":205,"name":"Source Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"input"}}}},"visible":true},"206":{"slot":206,"name":"Join Expression","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"target\".\"equipment_id\" = \"input\".\"equipment\" AND \"target\".\"ts\" = \"input\".\"ts\""},"2":{"slot":2,"type":"STRING","value":"Join"}}}},"visible":true},"207":{"slot":207,"name":"When Matched","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"<none>"},"2":{"slot":2,"type":"STRING","value":"Update"}}}},"visible":true},"208":{"slot":208,"name":"Update Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ts"},"2":{"slot":2,"type":"STRING","value":"ts"}}}},"visible":true},"209":{"slot":209,"name":"Include Not Matched","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"210":{"slot":210,"name":"Insert Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"equipment"},"2":{"slot":2,"type":"STRING","value":"equipment_id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"ts"},"2":{"slot":2,"type":"STRING","value":"ts"}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"},"6567":{"id":6567,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":128170095,"x":377,"y":276,"width":32,"height":32,"inputConnectorIDs":[6576],"outputConnectorIDs":[6578],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Rename 0"}}}},"visible":true},"2":{"slot":2,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"equipment"},"2":{"slot":2,"type":"STRING","value":"equipment"}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"},"6568":{"id":6568,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1744268877,"x":473,"y":276,"width":32,"height":32,"inputConnectorIDs":[6578],"outputConnectorIDs":[6582],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Distinct 0"}}}},"visible":true},"2":{"slot":2,"name":"Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"equipment"}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"},"6569":{"id":6569,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":569,"y":276,"width":32,"height":32,"inputConnectorIDs":[6582],"outputConnectorIDs":[6580],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Calculator 0"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"equipment\""},"2":{"slot":2,"type":"STRING","value":"id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"'Unknown'"},"2":{"slot":2,"type":"STRING","value":"name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"'normal' /* Have to hardcode this value because it is not in the data */"},"2":{"slot":2,"type":"STRING","value":"fan_status"}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"},"6570":{"id":6570,"inputCardinality":"MANY","outputCardinality":"MANY","implementationID":-629958239,"x":729,"y":276,"width":32,"height":32,"inputConnectorIDs":[6577,6580],"outputConnectorIDs":[6575],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Join 0"}}}},"visible":true},"2":{"slot":2,"name":"Main Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Calculator 0"}}}},"visible":true},"3":{"slot":3,"name":"Main Table Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"data"}}}},"visible":true},"4":{"slot":4,"name":"Joins","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_fan_status"},"2":{"slot":2,"type":"STRING","value":"fan"},"3":{"slot":3,"type":"STRING","value":"Left"}}}},"visible":true},"5":{"slot":5,"name":"Join Expressions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"data\".\"fan_status\" = \"fan\".\"name\""},"2":{"slot":2,"type":"STRING","value":"data_Left_fan"}}}},"visible":true},"6":{"slot":6,"name":"Output Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"data.id"},"2":{"slot":2,"type":"STRING","value":"id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"data.name"},"2":{"slot":2,"type":"STRING","value":"name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"fan.fan_status_code"},"2":{"slot":2,"type":"STRING","value":"fan_status_code"}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"},"6571":{"id":6571,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":937,"y":276,"width":32,"height":32,"inputConnectorIDs":[6575],"outputConnectorIDs":[6579],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Calculator 1"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NVL(\"fan_status_code\", -1)"},"2":{"slot":2,"type":"STRING","value":"fan_staus_code_with_default"}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"},"6572":{"id":6572,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":128170095,"x":1033,"y":276,"width":32,"height":32,"inputConnectorIDs":[6579],"outputConnectorIDs":[6574],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Rename 1"}}}},"visible":true},"2":{"slot":2,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"id"},"2":{"slot":2,"type":"STRING","value":"equipment_id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"fan_staus_code_with_default"},"2":{"slot":2,"type":"STRING","value":"fan_status_code"}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"},"6573":{"id":6573,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":-1848704949,"x":1161,"y":276,"width":32,"height":32,"inputConnectorIDs":[6574],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_equipment"}}}},"visible":true},"200":{"slot":200,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_equipment"}}}},"visible":true},"201":{"slot":201,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_schema}"}}}},"visible":true},"202":{"slot":202,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"203":{"slot":203,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"204":{"slot":204,"name":"Target Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"target"}}}},"visible":true},"205":{"slot":205,"name":"Source Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"input"}}}},"visible":true},"206":{"slot":206,"name":"Join Expression","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"target\".\"equipment_id\" = \"input\".\"equipment_id\""},"2":{"slot":2,"type":"STRING","value":"Join"}}}},"visible":true},"207":{"slot":207,"name":"When Matched","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"<none>"},"2":{"slot":2,"type":"STRING","value":"Update"}}}},"visible":true},"208":{"slot":208,"name":"Update Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"name"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status_code"},"2":{"slot":2,"type":"STRING","value":"fan_status_code"}}}},"visible":true},"209":{"slot":209,"name":"Include Not Matched","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"210":{"slot":210,"name":"Insert Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_id"},"2":{"slot":2,"type":"STRING","value":"equipment_id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status_code"},"2":{"slot":2,"type":"STRING","value":"fan_status_code"}}}},"visible":true}},"exportMappings":{},"activationStatus":"ENABLED"}},"connectors":{"6576":{"id":6576,"sourceID":6564,"targetID":6567},"6577":{"id":6577,"sourceID":6565,"targetID":6570},"6578":{"id":6578,"sourceID":6567,"targetID":6568},"6579":{"id":6579,"sourceID":6571,"targetID":6572},"6580":{"id":6580,"sourceID":6569,"targetID":6570},"6581":{"id":6581,"sourceID":6564,"targetID":6566},"6582":{"id":6582,"sourceID":6568,"targetID":6569},"6574":{"id":6574,"sourceID":6572,"targetID":6573},"6575":{"id":6575,"sourceID":6570,"targetID":6571}},"canUndo":false,"undoCommand":"","undoCreated":-1,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"6559":{"id":6559,"x":341,"y":192,"width":278,"height":40,"text":"This is similar to handling a late-arriving dimension","colour":"00ce4f"},"6560":{"id":6560,"x":453,"y":415,"width":176,"height":50,"text":"This is a simple MERGE. It performs an idempotent change to the 3NF table.","colour":"00ce4f"},"6561":{"id":6561,"x":1109,"y":167,"width":123,"height":71,"text":"Not expecting many UPDATEs at this point, but they are handled if they do happen","colour":"00ce4f"},"6562":{"id":6562,"x":671,"y":101,"width":148,"height":252,"text":"Look up the fan status code.\nNote this is a **left** join","colour":"00ce4f"},"6563":{"id":6563,"x":896,"y":176,"width":177,"height":53,"text":"This is in case the left-join failed","colour":"00ce4f"}},"noteConnectors":{},"variables":{},"grids":{}},"info":{"id":6558,"name":"example datamodel ODS to 3NF","description":"","type":"TRANSFORMATION","tag":"591dc75b-b5f0-4fca-ae82-32576cd3e4b3"},"path":["matillion-examples","datamodel","04 3NF"]}],"version":"1.56.9","environment":"snowflake"}