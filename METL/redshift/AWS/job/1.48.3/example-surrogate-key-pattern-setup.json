{"objects":[{"jobObject":{"JobType":".OrchestrationJob","id":5162,"revision":28,"created":1652804493275,"timestamp":1652804493275,"components":{"5165":{"id":5165,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-160,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[5231],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"5168":{"id":5168,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":352,"y":0,"width":32,"height":32,"inputConnectorIDs":[5330],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Initial sample data"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"INSERT INTO \"${examples_schema}\".\"dim_surrogate_key_example\"\nVALUES\n    (40,  'AAA', 'x',   'somevalue'),\n    (2,   'AAA', 'y',   'somevalue'),\n    (168, 'B',   'b',   'somevalue'),\n    (13,  'CC',  'abc', 'somevalue')\n"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"5224":{"id":5224,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576616,"x":16,"y":0,"width":32,"height":32,"inputConnectorIDs":[5231],"outputSuccessConnectorIDs":[5243],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Check variables"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"# Check that the variables examples_storage and examples_schema exist\n# and have valid default values\n\nif [ -z \"${examples_storage}\" ]\nthen\n\techo \"You must set a default value for examples_storage under Project / Manage Environment Variables\"\n    exit 99\nelse\n\techo \"examples_storage = '${examples_storage}'\"\nfi\n\nif [[ ${examples_storage} == s3* ]]\nthen\n\techo \"The default value for examples_storage must not start with s3://\"\n    exit 99\nfi\n\nif [ -z \"${examples_schema}\" ]\nthen\n\techo \"You must set a default value for examples_schema under Project / Manage Environment Variables\"\n    exit 99\nelse\n\techo \"examples_schema = '${examples_schema}'\"\nfi\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"5240":{"id":5240,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":192,"y":0,"width":32,"height":32,"inputConnectorIDs":[5243],"outputSuccessConnectorIDs":[5330],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create dim_surrogate_key_example"}}}},"visible":true},"2":{"slot":2,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dim_surrogate_key_example"}}}},"visible":true},"3":{"slot":3,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"4":{"slot":4,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"sk"},"2":{"slot":2,"type":"STRING","value":"Integer"},"3":{"slot":3,"type":"INTEGER","value":"8"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"BOOLEAN","value":"False"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"bus_key_part1"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"20"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"BOOLEAN","value":"False"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"bus_key_part2"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"20"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"BOOLEAN","value":"False"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"some_attribute"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"40"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"BOOLEAN","value":"True"}}}},"visible":true},"5":{"slot":5,"name":"Distribution Style","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Auto"}}}},"visible":true},"6":{"slot":6,"name":"Distribution Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"7":{"slot":7,"name":"Sort Key","elements":{},"visible":true},"8":{"slot":8,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_schema}"}}}},"visible":true},"9":{"slot":9,"name":"Primary Key","elements":{},"visible":true},"11":{"slot":11,"name":"Identity Columns","elements":{},"visible":true},"14":{"slot":14,"name":"Sort Key Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Compound"}}}},"visible":false},"15":{"slot":15,"name":"Backup Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"5243":{"id":5243,"sourceID":5224,"targetID":5240},"5330":{"id":5330,"sourceID":5240,"targetID":5168}},"failureConnectors":{},"unconditionalConnectors":{"5231":{"id":5231,"sourceID":5165,"targetID":5224}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":true,"undoCommand":"Set Parameter","undoCreated":1652804475229,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"5164":{"id":5164,"x":-302,"y":134,"width":766,"height":49,"text":"This is the example job from the Developer Relations article on Building a Star Schema [[https://www.matillion.com/resources/developer-relations]]\nRun this once to set up the initial data.\nAfterwards open the **example surrogate key pattern transform** job","colour":"00ce4f"},"5214":{"id":5214,"x":-302,"y":-182,"width":652,"height":110,"text":"You **must** supply a default value for the following variables:\n\n**examples_storage** (E.g. if your S3 bucket is named s3://the-bucket then set the default value to **the-bucket**)\n**examples_schema** (name of a Redshift schema)\n","colour":"f9c21b"}},"variables":{},"grids":{}},"info":{"id":5162,"name":"example surrogate key pattern setup","description":"Setup for the Surrogate Key example","type":"ORCHESTRATION","tag":"0764f397-e9bf-410d-9007-e8d870ad2087"},"path":["matillion-examples","feature engineering"]}],"version":"1.48.3","environment":"redshift"}