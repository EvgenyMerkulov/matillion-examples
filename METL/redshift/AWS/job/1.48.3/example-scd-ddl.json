{"objects":[{"jobObject":{"JobType":".OrchestrationJob","id":2506,"revision":90,"created":1638791199345,"timestamp":1638791199345,"components":{"2513":{"id":2513,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-640,"y":64,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2652],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2519":{"id":2519,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":288,"y":208,"width":32,"height":32,"inputConnectorIDs":[3767],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"example scd ddl virtualization"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"example scd ddl virtualization"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2638":{"id":2638,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576616,"x":-464,"y":64,"width":32,"height":32,"inputConnectorIDs":[2652],"outputSuccessConnectorIDs":[2674,3127,3720],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Check variables"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"# Check that the variable examples_schema exists\n\nif [ -z \"${examples_schema}\" ]\nthen\n\techo \"You must set a default value for examples_schema under Project / Manage Environment Variables\"\n    exit 99\nelse\n\techo \"examples_schema = '${examples_schema}'\"\nfi\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2670":{"id":2670,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-64,"y":-73,"width":32,"height":32,"inputConnectorIDs":[2674],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create dim_worldclockapi_type1"}}}},"visible":true},"2":{"slot":2,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dim_worldclockapi_type1"}}}},"visible":true},"3":{"slot":3,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create if not exists"}}}},"visible":true},"4":{"slot":4,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"timeZoneName"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"20"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"True"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"currentDateTime"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"64"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"True"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"currentFileTime"},"2":{"slot":2,"type":"STRING","value":"Numeric"},"3":{"slot":3,"type":"INTEGER","value":"20"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"True"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"dayOfTheWeek"},"2":{"slot":2,"type":"STRING","value":"Text"},"3":{"slot":3,"type":"INTEGER","value":"20"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":"None"},"6":{"slot":6,"type":"BOOLEAN","value":"True"}}}},"visible":true},"5":{"slot":5,"name":"Distribution Style","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Auto"}}}},"visible":true},"6":{"slot":6,"name":"Distribution Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"7":{"slot":7,"name":"Sort Key","elements":{},"visible":true},"8":{"slot":8,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_schema}"}}}},"visible":true},"9":{"slot":9,"name":"Primary Key","elements":{},"visible":true},"11":{"slot":11,"name":"Identity Columns","elements":{},"visible":true},"14":{"slot":14,"name":"Sort Key Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Compound"}}}},"visible":false},"15":{"slot":15,"name":"Backup Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"3126":{"id":3126,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-64,"y":64,"width":32,"height":32,"inputConnectorIDs":[3127],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create dim_worldclockapi_type2"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE TABLE IF NOT EXISTS \"${examples_schema}\".\"dim_worldclockapi_type2\" (\n\t\"sk\" BIGINT GENERATED BY DEFAULT AS IDENTITY(1,1) NOT NULL PRIMARY KEY,\n\t\"timeZoneName\"    VARCHAR(20) NOT NULL,\n\t\"currentDateTime\" VARCHAR(64) NOT NULL,\n\t\"currentFileTime\" BIGINT      NOT NULL,\n    \"dayOfTheWeek\"    VARCHAR(20) NOT NULL,\n\t\"ValidFrom\"       TIMESTAMP WITHOUT TIME ZONE NOT NULL,\n\t\"ValidTo\"         TIMESTAMP WITHOUT TIME ZONE NOT NULL,\n\t\"Version\"         INTEGER     NOT NULL,\n    \"CurrentFlag\"     BOOLEAN     NOT NULL,\n    UNIQUE (\"timeZoneName\", \"Version\"),\n    UNIQUE (\"timeZoneName\", \"ValidFrom\")\n)"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"3719":{"id":3719,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-64,"y":208,"width":32,"height":32,"inputConnectorIDs":[3720],"outputSuccessConnectorIDs":[3767],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_worldclockapi_history"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE TABLE IF NOT EXISTS \"${examples_schema}\".\"norm_worldclockapi_history\" (\n\t\"sk\" BIGINT GENERATED BY DEFAULT AS IDENTITY(1,1) NOT NULL PRIMARY KEY,\n\t\"timeZoneName\"    VARCHAR(20) NOT NULL,\n\t\"AsAt\"            TIMESTAMP WITHOUT TIME ZONE NOT NULL,\n\t\"currentDateTime\" VARCHAR(64) NOT NULL,\n\t\"currentFileTime\" BIGINT      NOT NULL,\n    \"dayOfTheWeek\"    VARCHAR(20) NOT NULL,\n    UNIQUE (\"timeZoneName\", \"AsAt\")\n)"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"2674":{"id":2674,"sourceID":2638,"targetID":2670},"3127":{"id":3127,"sourceID":2638,"targetID":3126},"3720":{"id":3720,"sourceID":2638,"targetID":3719},"3767":{"id":3767,"sourceID":3719,"targetID":2519}},"failureConnectors":{},"unconditionalConnectors":{"2652":{"id":2652,"sourceID":2513,"targetID":2638}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":true,"undoCommand":"Move Components","undoCreated":1638791155906,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"2507":{"id":2507,"x":-723,"y":-93,"width":285,"height":48,"text":"Create all the variations of the physical SCD tables,\nplus the backing table for the virtualized dimensions,\nplus the the virtualized dimensions themselves","colour":"00ce4f"},"2510":{"id":2510,"x":-169,"y":148,"width":269,"height":107,"text":"The backing table for the virtualized dimensions","colour":"00ce4f"},"2511":{"id":2511,"x":200,"y":147,"width":184,"height":111,"text":"The virtualized dimensions","colour":"00ce4f"},"2512":{"id":2512,"x":-841,"y":-197,"width":588,"height":59,"text":"You **must** supply a default value for the following variables:\n\n**examples_schema** (name of a Redshift schema)\n","colour":"f9c21b"},"3752":{"id":3752,"x":-169,"y":7,"width":269,"height":107,"text":"The Type 2 dimension","colour":"00ce4f"},"3761":{"id":3761,"x":-169,"y":-135,"width":269,"height":107,"text":"The Type 1 dimension","colour":"00ce4f"}},"variables":{},"grids":{}},"info":{"id":2506,"name":"example scd ddl","type":"ORCHESTRATION","tag":"50b064c8-ef3a-4d0e-8f74-09d182711861"},"path":["matillion-examples","slowly changing dimensions"]}],"version":"1.48.3","environment":"redshift"}