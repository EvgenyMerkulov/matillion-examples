{"objects":[{"jobObject":{"JobType":".OrchestrationJob","id":1051,"revision":72,"created":1639668729707,"timestamp":1639668729707,"components":{"1056":{"id":1056,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":176,"y":208,"width":32,"height":32,"inputConnectorIDs":[2860],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Master data"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"INSERT INTO `${examples_database}`.`norm_fan_status` \nVALUES (-1, 'Unknown'), (1001, 'normal'), (1002, 'malfunctioning'), (1003, 'unpowered')"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1057":{"id":1057,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-368,"y":48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2802,2744,2605],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2604":{"id":2604,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-16,"y":-112,"width":32,"height":32,"inputConnectorIDs":[2605],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[2704],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_equipment"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE TABLE `${examples_database}`.`norm_equipment` \n(\n    `equipment_id`    VARCHAR(64)    NOT NULL,\n    `name`            VARCHAR(256)   NOT NULL,\n    `fan_status_code` SMALLINT       NOT NULL\n) \nUSING DELTA"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2701":{"id":2701,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576485,"x":174,"y":-110,"width":32,"height":32,"inputConnectorIDs":[2704],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Log error 1"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"echo \"Table ${examples_database}.norm_equipment was not created\"\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true},"4":{"slot":4,"name":"User","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Restricted"}}}},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2743":{"id":2743,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-16,"y":48,"width":32,"height":32,"inputConnectorIDs":[2744],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[2758],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_bubble_event"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE TABLE `${examples_database}`.`norm_bubble_event` \n(\n    `id`            BIGINT       NOT NULL,\n    `equipment_id`  VARCHAR(64)  NOT NULL,\n    `ts`            TIMESTAMP    NOT NULL\n) \nUSING DELTA"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2751":{"id":2751,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576485,"x":176,"y":48,"width":32,"height":32,"inputConnectorIDs":[2758],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Log error 2"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"echo \"Table ${examples_database}.norm_bubble_event was not created\"\n"}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true},"4":{"slot":4,"name":"User","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Restricted"}}}},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2829":{"id":2829,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-16,"y":208,"width":32,"height":32,"inputConnectorIDs":[2802],"outputSuccessConnectorIDs":[2860],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_fan_status"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE OR REPLACE TABLE `${examples_database}`.`norm_fan_status` \n(\n    `fan_status_code`  SMALLINT      NOT NULL,\n    `name`             VARCHAR(256)  NOT NULL\n) \nUSING DELTA"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"2860":{"id":2860,"sourceID":2829,"targetID":1056}},"failureConnectors":{"2704":{"id":2704,"sourceID":2604,"targetID":2701},"2758":{"id":2758,"sourceID":2743,"targetID":2751}},"unconditionalConnectors":{"2802":{"id":2802,"sourceID":1057,"targetID":2829},"2744":{"id":2744,"sourceID":1057,"targetID":2743},"2605":{"id":2605,"sourceID":1057,"targetID":2604}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":true,"undoCommand":"Set Parameter","undoCreated":1639668722532,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"1052":{"id":1052,"x":-110,"y":138,"width":349,"height":124,"text":"Create **norm_fan_status**.\nIt contains ``fixed`` master data, so it is fine to recreate every time","colour":"00ce4f"},"1053":{"id":1053,"x":-110,"y":-166,"width":346,"height":105,"text":"Create the **norm_equipment** table","colour":"00ce4f"},"1054":{"id":1054,"x":-614,"y":127,"width":303,"height":163,"text":"If you look at the data in the raw, staging or ODS tables (raw_iot_event, stg_iot_event or ods_iot_event) you will see a lot of duplicated values.\n\nThese three 3rd Normal Form tables contain the same data but they are **subject oriented**, which makes it more efficient and less vulnerable to problems.\n\nThese tables should not often get dropped and recreated, so the option here is usually \"CREATE\"","colour":"00ce4f"},"1055":{"id":1055,"x":-108,"y":-4,"width":347,"height":106,"text":"Create the **norm_bubble_event** table","colour":"00ce4f"}},"variables":{},"grids":{}},"info":{"id":1051,"name":"example datamodel setup 3NF","type":"ORCHESTRATION","tag":"3a4aa02f-f5de-488c-9601-ef2e13bcabd4"},"path":["matillion-examples","datamodel","04 3NF"]}],"version":"1.56.10","environment":"deltalake"}