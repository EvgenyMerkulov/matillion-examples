{"objects":[{"jobObject":{"JobType":".OrchestrationJob","id":1592,"revision":43,"created":1639493089924,"timestamp":1639493089924,"components":{"1597":{"id":1597,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-368,"y":48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[4433,4361,4254],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"1602":{"id":1602,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":160,"y":208,"width":32,"height":32,"inputConnectorIDs":[4487],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Master data"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"INSERT INTO \"${environment_database}\".\"${examples_schema}\".\"norm_fan_status\"\nSELECT -1, 'Unknown'\nUNION ALL SELECT 1001, 'normal'\nUNION ALL SELECT 1002, 'malfunctioning'\nUNION ALL SELECT 1003, 'unpowered'"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"4223":{"id":4223,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-19,"y":-112,"width":32,"height":32,"inputConnectorIDs":[4254],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_equipment"}}}},"visible":true},"2":{"slot":2,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create If Not Exists"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_schema}"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_equipment"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_id"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"STRING","value":"64"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"STRING","value":"256"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status_code"},"2":{"slot":2,"type":"STRING","value":"NUMERIC"},"3":{"slot":3,"type":"STRING","value":"6"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}}},"visible":true},"6":{"slot":6,"name":"Distribution Style","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Round Robin"}}}},"visible":true},"7":{"slot":7,"name":"Distribution Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Partition Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"9":{"slot":9,"name":"Range Direction","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Left"}}}},"visible":false},"10":{"slot":10,"name":"Boundary Values","elements":{},"visible":false},"11":{"slot":11,"name":"Index Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Clustered Column Store"}}}},"visible":true},"12":{"slot":12,"name":"Index Column Order","elements":{},"visible":true},"13":{"slot":13,"name":"Index Column Grid","elements":{},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"4352":{"id":4352,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-9,"y":51,"width":32,"height":32,"inputConnectorIDs":[4361],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[4393],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_bubble_event"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE TABLE \"${examples_schema}\".\"norm_bubble_event\" \n(\n    \"id\" INT IDENTITY(1,1) NOT NULL,\n    \"equipment_id\" NVARCHAR(64) NOT NULL,\n    \"ts\" DATETIME2(3) NOT NULL\n) \nWITH\n(\n    CLUSTERED COLUMNSTORE INDEX, \n    DISTRIBUTION = ROUND_ROBIN\n)"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"4390":{"id":4390,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576616,"x":160,"y":48,"width":32,"height":32,"inputConnectorIDs":[4393],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Log exception"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"echo \"${examples_schema}.norm_bubble_event already was not created\""}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"4426":{"id":4426,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-16,"y":208,"width":32,"height":32,"inputConnectorIDs":[4433],"outputSuccessConnectorIDs":[4487],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_fan_status"}}}},"visible":true},"2":{"slot":2,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_schema}"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_fan_status"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status_code"},"2":{"slot":2,"type":"STRING","value":"NUMERIC"},"3":{"slot":3,"type":"STRING","value":"6"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"STRING","value":"256"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}}},"visible":true},"6":{"slot":6,"name":"Distribution Style","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Round Robin"}}}},"visible":true},"7":{"slot":7,"name":"Distribution Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Partition Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"9":{"slot":9,"name":"Range Direction","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Left"}}}},"visible":false},"10":{"slot":10,"name":"Boundary Values","elements":{},"visible":false},"11":{"slot":11,"name":"Index Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Clustered Column Store"}}}},"visible":true},"12":{"slot":12,"name":"Index Column Order","elements":{},"visible":true},"13":{"slot":13,"name":"Index Column Grid","elements":{},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"4487":{"id":4487,"sourceID":4426,"targetID":1602}},"failureConnectors":{"4393":{"id":4393,"sourceID":4352,"targetID":4390}},"unconditionalConnectors":{"4254":{"id":4254,"sourceID":1597,"targetID":4223},"4361":{"id":4361,"sourceID":1597,"targetID":4352},"4433":{"id":4433,"sourceID":1597,"targetID":4426}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":true,"undoCommand":"Set Parameter","undoCreated":1639493030502,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"1593":{"id":1593,"x":-112,"y":-17,"width":386,"height":123,"text":"Create **norm_bubble_event** with a primary key defined by an IDENTITY","colour":"00ce4f"},"1594":{"id":1594,"x":-110,"y":138,"width":381,"height":129,"text":"Create **norm_fan_status**.\nIt contains ``fixed`` master data, so it is fine to recreate every time","colour":"00ce4f"},"1595":{"id":1595,"x":-110,"y":-166,"width":195,"height":107,"text":"Create the **norm_equipment** table","colour":"00ce4f"},"1596":{"id":1596,"x":-614,"y":127,"width":303,"height":163,"text":"If you look at the data in the raw, staging or ODS tables (raw_iot_event, stg_iot_event or ods_iot_event) you will see a lot of duplicated values.\n\nThese three 3rd Normal Form tables contain the same data but they are **subject oriented**, which makes it more efficient and less vulnerable to problems.\n\nThese tables should not often get dropped and recreated, so the option here is usually \"Create if not exists\"","colour":"00ce4f"}},"variables":{},"grids":{}},"info":{"id":1592,"name":"example datamodel setup 3NF","type":"ORCHESTRATION","tag":"9cbc0226-3692-4810-a92a-04fedac4a451"},"path":["matillion-examples","datamodel","04 3NF"]}],"version":"1.48.10","environment":"synapse"}