{"objects":[{"jobObject":{"JobType":".OrchestrationJob","id":231,"revision":2,"created":1645630130093,"timestamp":1645630130093,"components":{"236":{"id":236,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-368,"y":48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[243,244,245],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"237":{"id":237,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":160,"y":208,"width":32,"height":32,"inputConnectorIDs":[242],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Master data"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"INSERT INTO \"${environment_database}\".\"${examples_schema}\".\"norm_fan_status\"\nSELECT -1, 'Unknown'\nUNION ALL SELECT 1001, 'normal'\nUNION ALL SELECT 1002, 'malfunctioning'\nUNION ALL SELECT 1003, 'unpowered'"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"238":{"id":238,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-19,"y":-112,"width":32,"height":32,"inputConnectorIDs":[243],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_equipment"}}}},"visible":true},"2":{"slot":2,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create If Not Exists"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_schema}"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_equipment"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"equipment_id"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"STRING","value":"64"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"STRING","value":"256"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status_code"},"2":{"slot":2,"type":"STRING","value":"NUMERIC"},"3":{"slot":3,"type":"STRING","value":"6"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}}},"visible":true},"6":{"slot":6,"name":"Distribution Style","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Round Robin"}}}},"visible":true},"7":{"slot":7,"name":"Distribution Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Partition Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"9":{"slot":9,"name":"Range Direction","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Left"}}}},"visible":false},"10":{"slot":10,"name":"Boundary Values","elements":{},"visible":false},"11":{"slot":11,"name":"Index Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Clustered Column Store"}}}},"visible":true},"12":{"slot":12,"name":"Index Column Order","elements":{},"visible":true},"13":{"slot":13,"name":"Index Column Grid","elements":{},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"239":{"id":239,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-9,"y":51,"width":32,"height":32,"inputConnectorIDs":[244],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[246],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_bubble_event"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE TABLE \"${examples_schema}\".\"norm_bubble_event\" \n(\n    \"id\" INT IDENTITY(1,1) NOT NULL,\n    \"equipment_id\" NVARCHAR(64) NOT NULL,\n    \"ts\" DATETIME2(3) NOT NULL\n) \nWITH\n(\n    CLUSTERED COLUMNSTORE INDEX, \n    DISTRIBUTION = ROUND_ROBIN\n)"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"240":{"id":240,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-30576616,"x":160,"y":48,"width":32,"height":32,"inputConnectorIDs":[246],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Log exception"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"echo \"${examples_schema}.norm_bubble_event already was not created\""}}}},"visible":true},"3":{"slot":3,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"241":{"id":241,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-16,"y":208,"width":32,"height":32,"inputConnectorIDs":[245],"outputSuccessConnectorIDs":[242],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create norm_fan_status"}}}},"visible":true},"2":{"slot":2,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${examples_schema}"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"norm_fan_status"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"fan_status_code"},"2":{"slot":2,"type":"STRING","value":"NUMERIC"},"3":{"slot":3,"type":"STRING","value":"6"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"STRING","value":"256"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"BOOLEAN","value":"False"}}}},"visible":true},"6":{"slot":6,"name":"Distribution Style","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Round Robin"}}}},"visible":true},"7":{"slot":7,"name":"Distribution Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"8":{"slot":8,"name":"Partition Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"9":{"slot":9,"name":"Range Direction","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Left"}}}},"visible":false},"10":{"slot":10,"name":"Boundary Values","elements":{},"visible":false},"11":{"slot":11,"name":"Index Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Clustered Column Store"}}}},"visible":true},"12":{"slot":12,"name":"Index Column Order","elements":{},"visible":true},"13":{"slot":13,"name":"Index Column Grid","elements":{},"visible":false}},"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"242":{"id":242,"sourceID":241,"targetID":237}},"failureConnectors":{"246":{"id":246,"sourceID":239,"targetID":240}},"unconditionalConnectors":{"243":{"id":243,"sourceID":236,"targetID":238},"244":{"id":244,"sourceID":236,"targetID":239},"245":{"id":245,"sourceID":236,"targetID":241}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"canUndo":false,"undoCommand":"","undoCreated":-1,"canRedo":false,"redoCommand":"","redoCreated":-1,"notes":{"232":{"id":232,"x":-112,"y":-17,"width":386,"height":123,"text":"Create **norm_bubble_event** with a primary key defined by an IDENTITY","colour":"00ce4f"},"233":{"id":233,"x":-110,"y":138,"width":381,"height":129,"text":"Create **norm_fan_status**.\nIt contains ``fixed`` master data, so it is fine to recreate every time","colour":"00ce4f"},"234":{"id":234,"x":-110,"y":-166,"width":195,"height":107,"text":"Create the **norm_equipment** table","colour":"00ce4f"},"235":{"id":235,"x":-614,"y":127,"width":303,"height":163,"text":"If you look at the data in the raw, staging or ODS tables (raw_iot_event, stg_iot_event or ods_iot_event) you will see a lot of duplicated values.\n\nThese three 3rd Normal Form tables contain the same data but they are **subject oriented**, which makes it more efficient and less vulnerable to problems.\n\nThese tables should not often get dropped and recreated, so the option here is usually \"Create if not exists\"","colour":"00ce4f"}},"variables":{},"grids":{}},"info":{"id":231,"name":"example datamodel setup 3NF","type":"ORCHESTRATION","tag":"d3081f85-159b-4657-9f7f-f49d8c8c5c08"},"path":["matillion-examples","datamodel","04 3NF"]}],"version":"1.56.10","environment":"synapse"}